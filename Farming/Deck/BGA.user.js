// ==UserScript==
// @name         BGA
// @namespace    HNSS
// @version      0.3
// @description  A script that makes beetle gifting easier, also prevents junking of Fauzjhia cards
// @downloadURL  https://raw.githubusercontent.com/andreasclaesson/HNSS/main/Farming/Deck/BGA.user.js
// @updateURL    https://raw.githubusercontent.com/andreasclaesson/HNSS/main/Farming/Deck/BGA.user.js
// @author       VenixDeveloper (Vulxo)
// @noframes
// @match        https://www.nationstates.net/page=deck/card=*/season=*/gift=1
// @match        https://www.nationstates.net/page=deck
// ==/UserScript==

(function() {
    'use strict';
    let puppetArray = [{"Id":3929788,"Season":3,"GiftDestination":"zophie_beetles"},{"Id":3929794,"Season":3,"GiftDestination":"april_beetles"},{"Id":3929795,"Season":3,"GiftDestination":"august_beetles"},{"Id":3929796,"Season":3,"GiftDestination":"autumn_beetles"},{"Id":3929797,"Season":3,"GiftDestination":"azure_beetles"},{"Id":3929800,"Season":3,"GiftDestination":"bee_beetles"},{"Id":3929801,"Season":3,"GiftDestination":"birthday_beetles"},{"Id":3929803,"Season":3,"GiftDestination":"black_beetles"},{"Id":3929804,"Season":3,"GiftDestination":"blessed_beetles"},{"Id":3929805,"Season":3,"GiftDestination":"blue_beetles"},{"Id":3929806,"Season":3,"GiftDestination":"bronze_beetles"},{"Id":3929807,"Season":3,"GiftDestination":"brown_beetles"},{"Id":3929808,"Season":3,"GiftDestination":"campfire_beetles"},{"Id":3929809,"Season":3,"GiftDestination":"candy_beetles"},{"Id":3929810,"Season":3,"GiftDestination":"chameleon_beetles"},{"Id":3929812,"Season":3,"GiftDestination":"christmas_beetles"},{"Id":3929813,"Season":3,"GiftDestination":"cursed_beetles"},{"Id":3929814,"Season":3,"GiftDestination":"cute_beetles"},{"Id":3929815,"Season":3,"GiftDestination":"dark_beetles"},{"Id":3929817,"Season":3,"GiftDestination":"december_beetles"},{"Id":3929818,"Season":3,"GiftDestination":"divine_beetles"},{"Id":3929819,"Season":3,"GiftDestination":"dolphin_beetles"},{"Id":3929820,"Season":3,"GiftDestination":"dragon_beetles"},{"Id":3929823,"Season":3,"GiftDestination":"earth_beetles"},{"Id":3929824,"Season":3,"GiftDestination":"epic_beetles"},{"Id":3929826,"Season":3,"GiftDestination":"fall_beetles"},{"Id":3929827,"Season":3,"GiftDestination":"february_beetles"},{"Id":3929829,"Season":3,"GiftDestination":"fertility_beetles"},{"Id":3929831,"Season":3,"GiftDestination":"festival_beetles"},{"Id":3929833,"Season":3,"GiftDestination":"fire_beetles"},{"Id":3929834,"Season":3,"GiftDestination":"flower_beetles"},{"Id":3929840,"Season":3,"GiftDestination":"fortune_beetles"},{"Id":3929842,"Season":3,"GiftDestination":"friend_beetles"},{"Id":3929844,"Season":3,"GiftDestination":"ghost_beetles"},{"Id":3929849,"Season":3,"GiftDestination":"forest_beetles"},{"Id":3929852,"Season":3,"GiftDestination":"feminity_beetles"},{"Id":3929854,"Season":3,"GiftDestination":"goldsmith_beetles"},{"Id":3929855,"Season":3,"GiftDestination":"grapevine_beetles"},{"Id":3929856,"Season":3,"GiftDestination":"green_beetles"},{"Id":3929857,"Season":3,"GiftDestination":"cyan_beetles"},{"Id":3929863,"Season":3,"GiftDestination":"halloween_beetles"},{"Id":3929864,"Season":3,"GiftDestination":"holy_beetles"},{"Id":3929865,"Season":3,"GiftDestination":"january_beetles"},{"Id":3929866,"Season":3,"GiftDestination":"jewel_beetles"},{"Id":3929868,"Season":3,"GiftDestination":"july_beetles"},{"Id":3929869,"Season":3,"GiftDestination":"june_beetles"},{"Id":3929870,"Season":3,"GiftDestination":"leaf_beetles"},{"Id":3929872,"Season":3,"GiftDestination":"light_beetles"},{"Id":3929873,"Season":3,"GiftDestination":"luck_beetles"},{"Id":3929874,"Season":3,"GiftDestination":"lunar_beetles"},{"Id":3929876,"Season":3,"GiftDestination":"maple_beetles"},{"Id":3929877,"Season":3,"GiftDestination":"mars_beetles"},{"Id":3929878,"Season":3,"GiftDestination":"may_beetles"},{"Id":3929882,"Season":3,"GiftDestination":"mayan_beetles"},{"Id":3929883,"Season":3,"GiftDestination":"metal_beetles"},{"Id":3929885,"Season":3,"GiftDestination":"mirage_beetles"},{"Id":3929886,"Season":3,"GiftDestination":"mystery_beetles"},{"Id":3929888,"Season":3,"GiftDestination":"noble_beetles"},{"Id":3929889,"Season":3,"GiftDestination":"november_beetles"},{"Id":3929890,"Season":3,"GiftDestination":"ocean_beetles"},{"Id":3929891,"Season":3,"GiftDestination":"october_beetles"},{"Id":3929893,"Season":3,"GiftDestination":"olive_beetles"},{"Id":3929894,"Season":3,"GiftDestination":"orange_beetles"},{"Id":3929895,"Season":3,"GiftDestination":"party_beetles"},{"Id":3929898,"Season":3,"GiftDestination":"pink_beetles"},{"Id":3929899,"Season":3,"GiftDestination":"poison_beetles"},{"Id":3929901,"Season":3,"GiftDestination":"precious_beetles"},{"Id":3929902,"Season":3,"GiftDestination":"purple_beetles"},{"Id":3929903,"Season":3,"GiftDestination":"rain_beetles"},{"Id":3929905,"Season":3,"GiftDestination":"rainbow_beetles"},{"Id":3929907,"Season":3,"GiftDestination":"rare_beetles"},{"Id":3929908,"Season":3,"GiftDestination":"red_beetles"},{"Id":3929910,"Season":3,"GiftDestination":"river_beetles"},{"Id":3929913,"Season":3,"GiftDestination":"rose_beetles"},{"Id":3929919,"Season":3,"GiftDestination":"sand_beetles"},{"Id":3929921,"Season":3,"GiftDestination":"sea_beetles"},{"Id":3929922,"Season":3,"GiftDestination":"secret_beetles"},{"Id":3929923,"Season":3,"GiftDestination":"september_beetles"},{"Id":3929925,"Season":3,"GiftDestination":"shadow_beetles"},{"Id":3929926,"Season":3,"GiftDestination":"shining_beetles"},{"Id":3929927,"Season":3,"GiftDestination":"silver_beetles"},{"Id":3929930,"Season":3,"GiftDestination":"solar_beetles"},{"Id":3929931,"Season":3,"GiftDestination":"space_beetles"},{"Id":3929932,"Season":3,"GiftDestination":"spirit_beetles"},{"Id":3929934,"Season":3,"GiftDestination":"spring_beetles"},{"Id":3929936,"Season":3,"GiftDestination":"gold_beetles"},{"Id":3929937,"Season":3,"GiftDestination":"storm_beetles"},{"Id":3929939,"Season":3,"GiftDestination":"summer_beetles"},{"Id":3929940,"Season":3,"GiftDestination":"time_beetles"},{"Id":3929941,"Season":3,"GiftDestination":"toxic_beetles"},{"Id":3929944,"Season":3,"GiftDestination":"treasure_beetles"},{"Id":3929945,"Season":3,"GiftDestination":"turtoise_beetles"},{"Id":3929946,"Season":3,"GiftDestination":"vampire_beetles"},{"Id":3929948,"Season":3,"GiftDestination":"volcan_beetles"},{"Id":3929951,"Season":3,"GiftDestination":"water_beetles"},{"Id":3929952,"Season":3,"GiftDestination":"white_beetles"},{"Id":3929953,"Season":3,"GiftDestination":"wild_beetles"},{"Id":3929954,"Season":3,"GiftDestination":"wind_beetles"},{"Id":3929956,"Season":3,"GiftDestination":"winter_beetles"},{"Id":3929958,"Season":3,"GiftDestination":"wolf_beetles"},{"Id":3929960,"Season":3,"GiftDestination":"yellow_beetles"},{"Id":4245891,"Season":3,"GiftDestination":"killer_whales"},{"Id":4074820,"Season":3,"GiftDestination":"kazooiomia"},{"Id":715348,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":714562,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3423507,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":714686,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":714677,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":714681,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":714673,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":716234,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3045131,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3045137,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3045143,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3045148,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3045173,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":693134,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3703509,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3724102,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3724105,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3724107,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3804517,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3804519,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3760853,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3810010,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3763484,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3564732,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3842439,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3922283,"Season":3,"GiftDestination":"Fauzjhia"},{"Id":3225877,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225886,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225874,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225891,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225864,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225880,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225871,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225896,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225879,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225888,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225873,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225894,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225882,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225884,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226039,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226031,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226029,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226026,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226058,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225866,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225867,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226037,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226035,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3226059,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3225899,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252041,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252042,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252046,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252047,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252048,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252051,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3252054,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3254071,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3254074,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500955,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500957,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500959,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500960,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500962,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500963,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500964,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500965,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3502207,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500968,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500970,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500972,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3500973,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3502203,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3724109,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3760860,"Season":3,"GiftDestination":"Auranzjinilhe"},{"Id":3502281,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502284,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502289,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502290,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502292,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502293,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502294,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502295,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502296,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502298,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502299,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502302,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502303,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3502324,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3760856,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339985,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339982,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340002,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340008,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340004,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340010,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340003,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339995,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339991,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340007,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339998,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339986,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339988,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339992,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339983,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339996,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339994,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339989,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3339984,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340000,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340013,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340016,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3340021,"Season":3,"GiftDestination":"Celzlhi"},{"Id":3564707,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564718,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564712,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564715,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564711,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564716,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564727,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564704,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564719,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564734,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564735,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564720,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564703,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564722,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564710,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564729,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564708,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564713,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564702,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564726,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564724,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3564717,"Season":3,"GiftDestination":"Shion_Uzuki"},{"Id":3850880,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850868,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850869,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850870,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850874,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850876,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850875,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850878,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850872,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"},{"Id":3850873,"Season":3,"GiftDestination":"Shiny_Dung_Beetle"}]

    if (window.location.href.indexOf("/gift=1") > -1) {
        let cardName = document.getElementsByClassName("nname")[0].innerHTML;
        let cardId = document.getElementById("deck-single-card").getAttribute('data-cardid');

        let card = findId(puppetArray, cardId)
        if (card) {
            document.getElementById("entity_name").value = card.gift;
            document.getElementsByName("send_gift")[0].focus();
        }
    } else if (window.location.href.indexOf("/page=deck") > -1) {
        let junkButtons = document.querySelectorAll(
          'a.deckcard-junk-button[data-rarity="common"],a.deckcard-junk-button[data-rarity="uncommon"], a.deckcard-junk-button[data-rarity="rare"], a.deckcard-junk-button[data-rarity="ultra-rare"],a.deckcard-junk-button[data-rarity="epic"]'
        );
        let convertedJunk = [...junkButtons];
        convertedJunk.forEach(button => {
            let card = findId(puppetArray, button.getAttribute('data-cardid'));
            if (card) {
              button.classList.remove("deckcard-junk-button");
            }
        });
    }
})();

function findId(data, idToLookFor) {
    var cardArray = data;
    for (var i = 0; i < cardArray.length; i++) {
        if (cardArray[i].Id == idToLookFor) {
            return({ "id": cardArray[i].Id, "gift": cardArray[i].GiftDestination });
        }
    }
}
